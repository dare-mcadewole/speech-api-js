var SpeechAPI=function(o){if(this.options=o||{},"webkitSpeechRecognition"in window){navigator.getUserMedia({audio:!0},function(o){console.log("Permission Granted")},function(o){console.log("PERMISSION_DENIED"===o?"You denied Speech API Permission":o)});var n=new webkitSpeechRecognition,t={continuous:!0,interimResults:!0,lang:"en-US",maxAlternatives:1,onstart:function(){console.log("Listening... ")},onend:function(o){console.log("Stopped Listening",o)},onresult:function(o){if(console.log("Result: ",o),void 0!==o)for(var t=o.resultIndex;t<o.results.length;++t)o.results[t].isFinal?console.log("Final results: "+o.results[t][0].transcript):console.log("Interim results: "+o.results[t][0].transcript);else n.stop()},onspeechstart:function(){console.log("Speech Started")},onspeechend:function(){console.log("Speech Ended")},onnomatch:function(o){console.log("No match found -> ",o.results)},onerror:function(o){console.error("An Error Occured -> ",o)}};return n.continuous=this.options.continuous||t.continuous,n.interimResults=this.options.interimResults||t.interimResults,n.lang=this.options.lang||t.lang,n.maxAlternatives=this.options.maxAlternatives||t.maxAlternatives,n.onstart=this.options.onstart||t.onstart,n.onend=this.options.onend||t.onend,n.onresult=this.options.onresult||t.onresult,n.onspeechstart=this.options.onspeechstart||t.onspeechstart,n.onspeechend=this.options.onspeechend||t.onspeechend,n.onnomatch=this.options.onnomatch||t.onnomatch,n.onerror=this.options.onerror||t.onerror,Object.freeze(n),n}"function"==typeof this.options.notSupported?this.options.notSupported():alert("Speech Recognition is not supported by your browser")};